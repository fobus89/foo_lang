// Демонстрация бага с переменными в циклах
println("=== Демонстрация бага с scope переменных ===\n")

println("1. Объявляем переменную i вне циклов:")
let i = 100
println("i до циклов: " + i)

println("\n2. Первый цикл с let i = 0:")
for let i = 0; i < 3; i++ {
    println("В цикле 1, i = " + i)
}

println("\n3. Проверяем i после первого цикла:")
println("i после цикла 1: " + i + " (должно быть 100)")

println("\n4. Второй цикл с let i = 5:")
for let i = 5; i < 8; i++ {
    println("В цикле 2, i = " + i)
}

println("\n5. Проверяем i после второго цикла:")
println("i после цикла 2: " + i + " (должно быть 100)")

println("\n6. Тест вложенных циклов:")
for let i = 1; i <= 2; i++ {
    println("Внешний цикл, i = " + i)
    for let j = 1; j <= 2; j++ {
        println("  Внутренний цикл, j = " + j)
    }
}

println("\n7. Проверяем переменные после вложенных циклов:")
println("i после вложенных циклов: " + i + " (должно быть 100)")

// Если j была объявлена только в цикле, она не должна существовать здесь
// println("j после циклов: " + j)  // Это должно выдать ошибку

println("\n=== Результат теста ===")
if i == 100 {
    println("✅ БАГ НЕ ПРОЯВИЛСЯ: переменная i сохранила своё значение")
} else {
    println("❌ БАГАН ПРОЯВИЛСЯ: переменная i изменилась на " + i)
}