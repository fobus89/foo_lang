// Тест шаблонной генерации с generate блоком

struct User {
    name: string,
    age: int
}

// Простой макрос с generate блоком
macro generatePrint(structParam: StructType) {
    println("=== Macro-time: Processing " + structParam.Name + " ===")
    
    generate {
        fn printUser(user) {
            println("User name: " + user.name)
            println("User age: " + user.age)
        }
    }
}

println("=== Testing generate block ===")

// Вызываем макрос
@generatePrint(User)

// Используем сгенерированную функцию
let john = User{name: "John", age: 30}
printUser(john)