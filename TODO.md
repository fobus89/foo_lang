# TODO: –ü—Ä–æ–±–ª–µ–º—ã –∏ –∑–∞–¥–∞—á–∏ –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üêõ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. Stack overflow –ø—Ä–∏ —Ä–µ–∫—É—Ä—Å–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –≤—ã–∑–æ–≤–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, factorial) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç–µ–∫–∞.
```foo
fn factorial(n) {
    if n <= 1 { return 1 }
    return n * factorial(n - 1)
}
factorial(5)  // stack overflow
```
**–ü—Ä–∏—á–∏–Ω–∞**: –í–µ—Ä–æ—è—Ç–Ω–æ, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ö–≤–æ—Å—Ç–æ–≤–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏.
**–§–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏**: `ast/func_call.go`, `ast/func_expr.go`

### 2. –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ, –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≤ —Ü–∏–∫–ª–∞—Ö –∏ —Ñ—É–Ω–∫—Ü–∏—è—Ö.
```foo
for let i = 0; i < 5; i++ { }
for let i = 0; i < 3; i++ { }  // –æ—à–∏–±–∫–∞: i —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
```
**–†–µ—à–µ–Ω–∏–µ**: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–µ–∫ –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

### 3. print –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç nil
**–ü—Ä–æ–±–ª–µ–º–∞**: –§—É–Ω–∫—Ü–∏—è `print` –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç, –Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `<nil>` –≤ stdout.
```foo
print("Hello")  // –≤—ã–≤–æ–¥–∏—Ç: Hello<nil>
```
**–§–∞–π–ª**: `ast/print_expr.go` - –Ω—É–∂–Ω–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å nil –∏–ª–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –µ–≥–æ –æ—Å–æ–±—ã–º –æ–±—Ä–∞–∑–æ–º.

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 4. –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏
**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**:
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è: `arr[0]`, `arr[i]`
- –î–ª–∏–Ω–∞ –º–∞—Å—Å–∏–≤–∞: `len(arr)` –∏–ª–∏ `arr.length`
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: `arr.push(value)`
- –°—Ä–µ–∑—ã: `arr[1:3]`

### 5. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**:
- –û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: `// –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π`
- –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: `/* –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π */`
**–§–∞–π–ª—ã**: `lexer/lexer.go`, `token/token.go`

### 6. –£–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫
**–ü—Ä–æ–±–ª–µ–º—ã**:
- –ù–µ—Ç –º–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã—Ö —Å—Ç—Ä–æ–∫
- –ù–µ—Ç –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏ —Å—Ç—Ä–æ–∫
**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è**:
```foo
// –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
let text = """
    –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π
    —Ç–µ–∫—Å—Ç
"""

// –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è
let name = "–ú–∏—Ä"
let msg = "–ü—Ä–∏–≤–µ—Ç, ${name}!"
```

### 7. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**:
- try/catch –±–ª–æ–∫–∏
- –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ runtime

### 8. –£–ª—É—á—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
**–ü—Ä–æ–±–ª–µ–º—ã**:
- –ù–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ù–µ—Ç –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- –ù–µ—Ç –∑–∞–º—ã–∫–∞–Ω–∏–π (closures)
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Ä–µ–∫—É—Ä—Å–∏–µ–π

### 9. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**:
- –û–±—ä–µ–∫—Ç—ã/—Å–ª–æ–≤–∞—Ä–∏: `{key: value}`
- null/nil —Ç–∏–ø
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤: `typeof value`

### 10. –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
**–ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å**:
- import/export
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- –ü–∞–∫–µ—Ç—ã

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### 11. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –≤ —Ü–∏–∫–ª–∞—Ö
- –£–º–µ–Ω—å—à–µ–Ω–∏–µ –∞–ª–ª–æ–∫–∞—Ü–∏–π –ø–∞–º—è—Ç–∏

### 12. –£–ª—É—á—à–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
- –ë–æ–ª–µ–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

### 13. –û—Ç–ª–∞–¥–∫–∞
- –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ —Å —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- Breakpoints
- Stack trace –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 14. –£–ª—É—á—à–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è –≤—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏—è
- –¢—É—Ç–æ—Ä–∏–∞–ª –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 15. –†–∞—Å—à–∏—Ä–∏—Ç—å —Ç–µ—Å—Ç—ã
- –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –¢–µ—Å—Ç—ã –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- –ë–µ–Ω—á–º–∞—Ä–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã

1. **–í—ã—Å–æ–∫–∏–π**: –ò—Å–ø—Ä–∞–≤–∏—Ç—å stack overflow (#1), –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (#2), print nil (#3)
2. **–°—Ä–µ–¥–Ω–∏–π**: –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ (#4), –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (#5)
3. **–ù–∏–∑–∫–∏–π**: –û—Å—Ç–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

## –ó–∞–º–µ—Ç–∫–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
```go
type Scope struct {
    parent *Scope
    vars   map[string]*Value
}

type Context struct {
    scope *Scope
}
```

### –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –º–∞—Å—Å–∏–≤–∞–º–∏
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –≤—ã—Ä–∞–∂–µ–Ω–∏—è `IndexExpr` –¥–ª—è `arr[index]`
- –î–æ–±–∞–≤–∏—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ `len()`, `push()`, `pop()`

### –î–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫—É—Ä—Å–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è –ª–∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –≤ `FuncCallExpr.Eval()`
- –í–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–µ–Ω —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≥–ª—É–±–∏–Ω—ã